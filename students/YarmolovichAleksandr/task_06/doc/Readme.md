# –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–µ–ª–∞—Ä—É—Å—å

<p align="center">–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è</p>
<p align="center">"–ë—Ä–µ—Å—Ç—Å–∫–∏–π –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç"</p>
<p align="center">–ö–∞—Ñ–µ–¥—Ä–∞ –ò–ò–¢</p>
<br><br><br><br><br><br>
<p align="center"><strong>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ6</strong></p>
<p align="center"><strong>–ü–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ:</strong> "–í–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"</p>
<p align="center"><strong>–¢–µ–º–∞:</strong> "–°–µ—Ä–≤–µ—Ä–Ω–æ–µ REST API –Ω–∞ Node.js + Express + Prisma (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)"</p>
<br><br><br><br><br><br>
<p align="right"><strong>–í—ã–ø–æ–ª–Ω–∏–ª:</strong></p>
<p align="right">–°—Ç—É–¥–µ–Ω—Ç 4 –∫—É—Ä—Å–∞</p>
<p align="right">–ì—Ä—É–ø–ø—ã –ê–°-63</p>
<p align="right">–Ø—Ä–º–æ–ª–æ–≤–∏—Å –ê.–°.</p>
<p align="right"><strong>–ü—Ä–æ–≤–µ—Ä–∏–ª:</strong></p>
<p align="right">–ù–µ—Å—é–∫ –ê.–ù.</p>
<br><br><br><br><br>
<p align="center"><strong>–ë—Ä–µ—Å—Ç 2025</strong></p>

---

## –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã

* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å ORM –∏ —Å—Ö–µ–º—É –¥–∞–Ω–Ω—ã—Ö (SQLite/PostgreSQL).
* –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é/–ª–æ–≥–∏–Ω, –≤—ã–¥–∞—á—É JWT, middleware –∑–∞—â–∏—Ç—ã –∏ –¥–æ—Å—Ç—É–ø –∫ –∑–∞–¥–∞—á–∞–º —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞.

---

## –í–∞—Ä–∏–∞–Ω—Ç 24

## –•–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `schema.prisma` - –°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Prisma ORM
- `authController.js` - –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `productsController.js` - –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤
- `cartController.js`- –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∫–æ—Ä–∑–∏–Ω—ã
- `ordersController.js` - –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∑–∞–∫–∞–∑–æ–≤
- `auth.js`- Middleware –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `validate.js` - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- `errorHandler.js`- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- `auth.js` - –ú–∞—Ä—à—Ä—É—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `products.js` - –ú–∞—Ä—à—Ä—É—Ç—ã —Ç–æ–≤–∞—Ä–æ–≤
- `cart.js` - –ú–∞—Ä—à—É—Ä—É—Ç—ã –∫–∞—Ä–∑–∏–Ω—ã
- `orders.js`- –ú–∞—Ä—à—Ä—É—Ç—ã –∑–∞–∫–∞–∑–æ–≤
- `app.js` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Express
- `server.js` - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
- `.env.example` - –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `package.json` - –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

* –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π\
* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

``` bash
npm install
```

* –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

``` bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

* –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:

``` bash
npm run db:migrate
npm run db:seed
```

* –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:

``` bash
# Development
npm run dev

# Production
npm start
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:\
http://localhost:3000

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:\
http://localhost:3000/docs

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

``` bash
    POST /api/auth/signup
    Content-Type: application/json

    {
      "email": "user@example.com",
      "password": "password123",
      "role": "customer"
    }
```

### –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

``` bash
    POST /api/auth/login
    Content-Type: application/json

    {
      "email": "user@example.com",
      "password": "password123"
    }
```

–û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç JWT —Ç–æ–∫–µ–Ω:

``` json
{
  "message": "Login successful",
  "user": { ... },
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

* Authorization: Bearer –Ω–∞—à-jwt-—Ç–æ–∫–µ–Ω

---

## üìã –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- `POST /api/auth/signup` --- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/auth/login` --- –í—Ö–æ–¥
- `GET /api/auth/profile` --- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω—É–∂–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)

### –¢–æ–≤–∞—Ä—ã

- `GET /api/products` --- –í—Å–µ —Ç–æ–≤–∞—Ä—ã
- `GET /api/products/:id` --- –¢–æ–≤–∞—Ä –ø–æ ID
- `POST /api/products` --- –°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä (–∞–¥–º–∏–Ω)
- `PUT /api/products/:id` --- –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–≤–∞—Ä (–∞–¥–º–∏–Ω)
- `DELETE /api/products/:id`--- –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä (–∞–¥–º–∏–Ω)

### –ö–æ—Ä–∑–∏–Ω–∞

- `GET /api/cart` --- –ü–æ–ª—É—á–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
- `POST /api/cart/items` --- –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
- `PUT /api/cart/items/:id` --- –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- `DELETE /api/cart/items/:id` --- –£–¥–∞–ª–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é
- `DELETE /api/cart/clear` --- –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É

### –ó–∞–∫–∞–∑—ã

- `POST /api/orders` --- –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
- `GET /api/orders` --- –ó–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/orders/:id` --- –ó–∞–∫–∞–∑ –ø–æ ID

---

## üõ†Ô∏è CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (–∞–¥–º–∏–Ω)

```bash
    POST /api/products
    Authorization: Bearer –≤–∞—à-—Ç–æ–∫–µ–Ω
    Content-Type: application/json

    {
      "name": "–ù–æ–≤—ã–π —Ç–æ–≤–∞—Ä",
      "description": "–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞",
      "price": 99.99,
      "stock": 10
    }
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É

```bash
    POST /api/cart/items
    Authorization: Bearer –≤–∞—à-—Ç–æ–∫–µ–Ω
    Content-Type: application/json

    {
      "productId": 1,
      "quantity": 2
    }
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞

```bash
    POST /api/orders
    Authorization: Bearer –≤–∞—à-—Ç–æ–∫–µ–Ω
```

---

## –¢–∞–±–ª–∏—Ü–∞ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤

| –ö—Ä–∏—Ç–µ—Ä–∏–π                                                                | –ë–∞–ª–ª—ã |  –í—ã–ø–æ–ª–Ω–µ–Ω–æ |
|-------------------------------------------------------------------------|-------|------------|
| –°—Ö–µ–º–∞ –ë–î / –º–∏–≥—Ä–∞—Ü–∏–∏                                                     |  20   |  ‚úÖ / ‚úÖ  |
| CRUD + —Å–≤—è–∑—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º                                            |  25   |  ‚úÖ / ‚úÖ  |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (—Ö–µ—à–∏, JWT, –∑–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤, CORS)                        |  20   |  ‚úÖ / ‚úÖ  |
| –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ / –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã                                             |  15   |  ‚úÖ / ‚úÖ  |
| –¢–µ—Å—Ç—ã / –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å                                                      |  10   |  ‚úÖ / ‚úÖ  |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è / –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è                                               |  10   |  ‚úÖ / ‚úÖ  |

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–æ–Ω—É—Å—ã

| –ë–æ–Ω—É—Å                                                                | –ë–∞–ª–ª—ã | –í—ã–ø–æ–ª–Ω–µ–Ω–æ |
| -------------------------------------------------------------------- | ----- | --------- |
| Refresh‚Äë—Ç–æ–∫–µ–Ω—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ access‚Äë—Ç–æ–∫–µ–Ω–∞.                           | 10    | ‚ùå / ‚úÖ  |
| –†–æ–ª–∏/–ø—Ä–∞–≤–∞ (admin/user).                                             | 10    | ‚ùå / ‚úÖ  |
| Password reset flow (email‚Äë–∑–∞–≥–ª—É—à–∫–∞).                                | 10    | ‚ùå / ‚úÖ  |

---

## –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é

üëâ –í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ GitHub Pages: https://yarmolov.github.io/WT-LAB6/

## –í—ã–≤–æ–¥

–ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ ORM —Å–æ —Å—Ö–µ–º–æ–π –¥–∞–Ω–Ω—ã—Ö, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ —Å –≤—ã–¥–∞—á–µ–π JWT, –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ middleware, –∏ –¥–æ—Å—Ç—É–ø –∫ –∑–∞–¥–∞—á–∞–º —Ç–µ–ø–µ—Ä—å –≤–æ–∑–º–æ–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –∏—Ö –≤–ª–∞–¥–µ–ª—å—Ü–∞.
